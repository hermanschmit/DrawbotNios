# DrawBot Code #

This is baremetal software for running the Herman Schmit's FPGA Drawbot on a Cyclone V board with a Nios-II based system.

This code can only be compiled to run on the FPGA design in this [repository](https://bitbucket.org/herman_schmit/drawbotverilogoshboard).

The code used to generate the vector files used for the FPGA Drawbot is in this [repository](https://bitbucket.org/herman_schmit/fpgadrawbot). 

The code consists of a board support package (BSP) which is generated by the Quartus/Qsys system, and the Apps directory, which currently only contains the DrawbotLine1 application.

This application boots the Nios, waits for the data memory to be written to the board SRAM, waits for a board button to initiate the drawing process.

Drawing consists of seeking the next X,Y location from the memory, and stepping the motors to follow a line as closely as possible until it is no longer possible to get closer to the desired point. This process repeats until the memory vector end flag is read.

The main.c contains some hard coded arrays for calibration. 



